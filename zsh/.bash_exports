# If you come from bash you might have to change your $PATH.
# export PATH=$HOME/bin:/usr/local/bin:$PATH

# Path to your oh-my-zsh installation.
export ZSH=~/.oh-my-zsh

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(
  git
)

source $ZSH/oh-my-zsh.sh

# Homebrew
eval "$(/opt/homebrew/bin/brew shellenv)"

# initialize pure prompt ohmyzsh https://github.com/sindresorhus/pure
fpath+=("$(brew --prefix)/share/zsh/site-functions")
autoload -U promptinit; promptinit
prompt pure

# User configuration
export LANG=en_US.UTF-8
export LC_ALL="en_US.UTF-8"
export EDITOR="nvim"
export TERM="xterm-256color"
export CPPFLAGS=-I/opt/homebrew/opt/openssl/include
export LDFLAGS=-L/opt/homebrew/opt/openssl/lib
export PKG_CONFIG_PATH="/opt/homebrew/opt/openssl@3/lib/pkgconfig"

# Dotfiles bin directory
export PATH="$HOME/.dotfiles/bin:$PATH"

# Node env
eval "$(fnm env)"

# Direnv
eval "$(direnv hook zsh)"

# Fzf
[ -f ~/.fzf.zsh ] && source ~/.fzf.zsh

# tree-me auto-cd support
if command -v tree-me >/dev/null 2>&1; then
    source <(tree-me shellenv)
fi

# Terminal greeting
if command -v fortune >/dev/null 2>&1 && command -v cowsay >/dev/null 2>&1 && [ -z "$GREETING_SHOWN" ]; then
    fortune -n 320 -s | cowsay -f small
    export GREETING_SHOWN=1
fi
